{
  "project": {
    "name": "NOIR",
    "type": "Enterprise .NET 10 + React 19 SaaS Foundation",
    "architecture": ["Clean Architecture", "CQRS", "DDD", "Multi-Tenant", "Vertical Slice"],
    "generated": "2026-02-07",
    "version": "3.4"
  },
  "metrics": {
    "backend_files": 1248,
    "frontend_files": 305,
    "test_files": 446,
    "total_source_files": 1999,
    "total_tests": 6751,
    "test_status": "passing",
    "documentation_files": 48,
    "ui_components": 103,
    "custom_hooks": 28,
    "api_services": 23,
    "frontend_pages": 88,
    "e2e_test_specs": 32,
    "e2e_page_objects": 31,
    "e2e_test_cases": 490,
    "feature_modules": 26,
    "endpoint_groups": 30,
    "domain_entities": 50,
    "aggregate_roots": 26,
    "cqrs_commands": 131,
    "cqrs_queries": 105,
    "repositories": 29,
    "ef_core_configurations": 49,
    "enums": 24,
    "service_interfaces": 43,
    "database_indexes": 233
  },
  "tests": {
    "domain": 842,
    "application": 5230,
    "architecture": 25,
    "integration": 654,
    "total": 6751,
    "pass_rate": "100%"
  },
  "entry_points": {
    "backend": "src/NOIR.Web/Program.cs",
    "frontend": "src/NOIR.Web/frontend/src/main.tsx",
    "solution": "src/NOIR.sln",
    "frontend_config": "src/NOIR.Web/frontend/vite.config.ts"
  },
  "urls": {
    "frontend": "http://localhost:3000",
    "backend": "http://localhost:4000",
    "api_docs": "http://localhost:4000/api/docs",
    "hangfire": "http://localhost:4000/hangfire"
  },
  "admin_credentials": {
    "platform_admin": {
      "email": "platform@noir.local",
      "password": "123qwe",
      "description": "Cross-tenant platform administrator"
    },
    "tenant_admin": {
      "email": "admin@noir.local",
      "password": "123qwe",
      "description": "Default tenant administrator"
    }
  },
  "features": {
    "auth": ["Login", "Logout", "Register", "RefreshToken", "ChangePassword", "ResetPassword", "ChangeEmail", "UpdateProfile", "UpdateAvatar", "Sessions"],
    "users": ["CRUD", "AssignRoles", "GetUserRoles", "Pagination", "Search"],
    "roles": ["CRUD", "GetRoleById", "AssignPermissions"],
    "permissions": ["AssignToRole", "RemoveFromRole", "GetRolePermissions", "GetUserPermissions"],
    "audit": ["EntityHistory", "HandlerHistory", "HttpRequestHistory", "Search", "Export", "ActivityTimeline"],
    "email_templates": ["Update", "SendTest", "Preview", "MultiTenant COW"],
    "legal_pages": ["Update", "Preview", "RevertToDefault", "MultiTenant COW", "SEO"],
    "tenants": ["CRUD", "Provisioning", "Settings", "Archive", "Restore"],
    "tenant_settings": ["Branding", "Contact", "SMTP", "Regional", "EmailTemplates", "LegalPages", "PaymentGateways"],
    "notifications": ["MarkAsRead", "Delete", "Preferences", "List", "UnreadCount", "SignalR Push"],
    "blog": ["Posts CRUD", "Publish/Unpublish", "Categories", "Tags", "SEO"],
    "media": ["Upload", "Delete", "List", "ImageProcessing"],
    "developer_logs": ["StreamLogs", "ErrorClusters", "Stats", "History"],
    "products": ["CRUD", "Variants", "Pricing", "Inventory", "Categories", "Images", "Publish/Archive", "Search"],
    "cart": ["AddToCart", "UpdateQuantity", "RemoveItem", "ClearCart", "GetCart", "GetSummary", "MergeCart", "GuestSupport"],
    "checkout": ["InitiateCheckout", "SetAddress", "SelectShipping", "SelectPayment", "CompleteCheckout"],
    "orders": ["CRUD", "Confirm", "Ship", "Cancel", "Deliver", "Complete"],
    "payments": ["CreatePayment", "ConfigureGateway", "ProcessWebhook", "RequestRefund", "ApproveRefund", "CODCollection"],
    "brands": ["CRUD", "Logo", "Banner", "SEO"],
    "product_attributes": ["CRUD", "13 AttributeTypes", "CategoryAttributes", "FilterIndex"],
    "inventory": ["AdjustStock", "TransferStock", "StockHistory", "LowStockAlerts"],
    "shipping": ["Providers", "Rates", "Tracking", "WebhookLogs"]
  },
  "tech_stack": {
    "backend": {
      "runtime": ".NET 10 LTS",
      "database": "SQL Server + EF Core 10",
      "mediator": "Wolverine 5.11+",
      "validation": "FluentValidation 11.x",
      "mapping": "Mapperly 4.3+",
      "multi_tenancy": "Finbuckle.MultiTenant 10.0+",
      "background_jobs": "Hangfire 1.8+",
      "logging": "Serilog 4.x",
      "email": "FluentEmail 3.x",
      "api_docs": "Scalar",
      "caching": "FusionCache",
      "real_time": "SignalR"
    },
    "frontend": {
      "framework": "React 19",
      "language": "TypeScript 5.x",
      "build_tool": "Vite 6.x",
      "routing": "React Router 7.x",
      "styling": "Tailwind CSS 4.x",
      "ui_components": "shadcn/ui + 21st.dev",
      "data_fetching": "TanStack Query 5.x",
      "validation": "Zod 3.x",
      "forms": "React Hook Form 7.x",
      "i18n": "i18next",
      "e2e_testing": "Playwright"
    }
  },
  "layers": {
    "domain": {
      "path": "src/NOIR.Domain/",
      "entities": [
        "ApplicationUser", "ApplicationRole", "RefreshToken", "Tenant", "TenantSetting",
        "Permission", "PermissionTemplate", "Notification", "NotificationPreference",
        "EmailTemplate", "LegalPage", "MediaFile", "Post", "PostCategory", "PostTag",
        "EntityAuditLog", "HandlerAuditLog", "HttpRequestAuditLog", "ResourceShare",
        "PasswordResetOtp", "EmailChangeOtp",
        "Product", "ProductVariant", "ProductImage", "ProductCategory", "ProductOption", "ProductOptionValue",
        "Brand", "ProductAttribute", "ProductAttributeValue", "CategoryAttribute", "ProductAttributeAssignment",
        "ProductFilterIndex", "FilterAnalyticsEvent", "InventoryMovement",
        "Cart", "CartItem", "CheckoutSession", "Order", "OrderItem",
        "PaymentGateway", "PaymentTransaction", "PaymentWebhookLog", "PaymentOperationLog", "PaymentInstallment", "Refund",
        "ShippingProvider", "ShippingOrder", "ShippingTrackingEvent", "ShippingWebhookLog"
      ],
      "common_types": ["Result", "Error", "ErrorCodes", "Permissions", "Roles"],
      "base_classes": ["Entity", "AggregateRoot", "TenantAggregateRoot", "PlatformTenantAggregateRoot", "TenantEntity", "PlatformTenantEntity"],
      "interfaces": ["IRepository", "IUnitOfWork", "ITenantEntity", "IAuditableEntity", "ISeedableEntity", "ISoftDeletable"],
      "enums": [
        "AuditOperationType", "NotificationType", "NotificationCategory", "PostStatus", "EmailFrequency",
        "ProductStatus", "CartStatus", "CheckoutSessionStatus", "OrderStatus", "ReservationStatus",
        "PaymentStatus", "PaymentMethod", "RefundStatus", "RefundReason", "GatewayEnvironment", "GatewayHealthStatus",
        "WebhookProcessingStatus", "PaymentOperationType", "InventoryMovementType", "AttributeType"
      ]
    },
    "application": {
      "path": "src/NOIR.Application/",
      "feature_modules": [
        "Auth", "Users", "Roles", "Permissions", "Tenants", "TenantSettings",
        "Audit", "Notifications", "EmailTemplates", "LegalPages", "Media",
        "Blog", "DeveloperLogs", "PlatformSettings", "Payments",
        "Products", "Cart", "Checkout", "Orders", "Brands", "ProductAttributes",
        "Inventory", "ProductFilter", "ProductFilterIndex", "FilterAnalytics", "Shipping"
      ],
      "specifications": ["RefreshTokens", "Notifications", "PasswordResetOtps", "EmailChangeOtps", "TenantSettings", "Roles", "Permissions", "Products", "Cart", "MediaFiles", "ResourceShares"],
      "behaviors": ["Logging", "Performance", "Validation", "Audit"],
      "interfaces": ["ICurrentUser", "IUserIdentityService", "IEmailService", "ITokenService", "IPaymentService", "IPaymentGatewayFactory", "ICredentialEncryptionService"]
    },
    "infrastructure": {
      "path": "src/NOIR.Infrastructure/",
      "modules": ["Persistence", "Identity", "Services", "Email", "Audit", "Caching", "Hubs", "Media", "Storage", "Localization", "Logging", "BackgroundJobs", "Validation", "Payment"],
      "contexts": ["ApplicationDbContext", "TenantStoreDbContext"],
      "interceptors": ["AuditableEntityInterceptor", "EntityAuditLogInterceptor", "TenantIdSetterInterceptor", "DomainEventInterceptor"],
      "hubs": ["NotificationHub", "DeveloperLogHub", "PaymentHub"]
    },
    "web": {
      "path": "src/NOIR.Web/",
      "endpoints": [
        "AuthEndpoints", "UserEndpoints", "RoleEndpoints", "PermissionEndpoints",
        "TenantEndpoints", "TenantSettingsEndpoints", "AuditEndpoints", "NotificationEndpoints",
        "EmailTemplateEndpoints", "LegalPageEndpoints", "PublicLegalPageEndpoints",
        "MediaEndpoints", "FileEndpoints", "BlogEndpoints", "FeedEndpoints",
        "DeveloperLogEndpoints", "PlatformSettingsEndpoints", "PaymentEndpoints",
        "ProductEndpoints", "ProductCategoryEndpoints", "CartEndpoints", "CheckoutEndpoints",
        "OrderEndpoints", "BrandEndpoints", "ProductAttributeEndpoints", "ProductFilterEndpoints",
        "FilterAnalyticsEndpoints", "ShippingEndpoints", "ShippingProviderEndpoints"
      ],
      "middleware": ["ExceptionHandling", "CurrentUserLoader", "HttpRequestAudit", "TenantResolution"],
      "filters": ["ValidateAntiforgeryTokenAttribute"]
    },
    "frontend": {
      "path": "src/NOIR.Web/frontend/",
      "pages": {
        "public": ["Landing", "Login", "ForgotPassword", "VerifyOtp", "ResetPassword", "PrivacyPage", "TermsPage"],
        "portal": ["Dashboard", "Settings", "Notifications", "NotificationPreferences"],
        "admin": ["Users", "Roles", "Tenants", "TenantDetail", "TenantSettings", "ActivityTimeline", "DeveloperLogs", "PlatformSettings", "PaymentGateways"],
        "content": ["EmailTemplates", "LegalPages", "BlogPosts", "BlogCategories", "BlogTags"],
        "ecommerce": ["Products", "ProductDetail", "Categories", "Brands", "Attributes", "Inventory"]
      },
      "components": ["ui", "auth", "portal", "settings", "notifications", "seo", "forgot-password", "products", "storefront", "onboarding", "network", "command-palette", "layout"],
      "contexts": ["AuthContext", "ThemeContext", "NotificationContext", "BrandingContext", "RegionalSettingsContext"],
      "hooks": [
        "useLogin", "useSignalR", "usePermissions", "useRoles", "useUsers", "useTenants", "useBlog",
        "useLogStream", "usePageContext", "useImageUpload", "useValidatedForm", "usePaymentGateways",
        "useProducts", "useBrands", "useProductAttributes", "useStockHistory", "useOnboarding",
        "useNetworkStatus", "useAutoSave", "useUnsavedChanges", "useSoftDelete", "useKeyboardShortcuts",
        "useBreadcrumbs", "useSmartDefaults", "useMediaQuery", "useOptimisticMutation"
      ],
      "services": [
        "apiClient", "auth", "users", "roles", "tenants", "tenantSettings", "audit", "notifications",
        "emailTemplates", "legalPages", "media", "blog", "developerLogs", "platformSettings",
        "forgotPassword", "profile", "settings", "pageContext", "paymentGateways", "products",
        "productAttributes", "brands"
      ]
    },
    "e2e_tests": {
      "path": "src/NOIR.Web/frontend/e2e-tests/",
      "specs": ["auth", "categories", "products", "brands", "attributes", "roles", "users", "tenant-settings", "navigation", "smoke"],
      "pages": ["BasePage", "LoginPage", "CategoriesPage", "ProductsPage", "BrandsPage", "AttributesPage", "RolesPage", "UsersPage", "TenantSettingsPage"]
    }
  },
  "documentation": {
    "index": "docs/PROJECT_INDEX.md",
    "knowledge_base": "docs/KNOWLEDGE_BASE.md",
    "api_index": "docs/API_INDEX.md",
    "architecture": "docs/ARCHITECTURE.md",
    "feature_catalog": "docs/FEATURE_CATALOG.md",
    "tech_stack": "docs/TECH_STACK.md",
    "backend_patterns": [
      "repository-specification", "hierarchical-audit-logging", "before-state-resolver",
      "bulk-operations", "di-auto-registration", "entity-configuration",
      "json-enum-serialization", "jwt-refresh-token", "technical-checklist"
    ],
    "backend_research": [
      "role-permission-system-research", "hierarchical-audit-logging-comparison-2025",
      "validation-unification-plan", "cache-busting-best-practices", "seo-meta-and-hint-text-best-practices",
      "ecommerce-ux-patterns-2026", "vietnam-shipping-integration-2026"
    ],
    "frontend_guides": [
      "architecture", "api-types", "localization-guide", "COLOR_SCHEMA_GUIDE", "vibe-kanban-integration", "ecommerce-ui", "ui-ux-enhancements"
    ],
    "testing_guides": [
      "E2E-TESTING-GUIDE", "PRODUCT_E2E_TESTS", "TEST_CASES", "TEST_PLAN"
    ],
    "architecture_decisions": ["001-tech-stack", "002-frontend-ui-stack", "003-vertical-slice-cqrs"]
  },
  "commands": {
    "build": "dotnet build src/NOIR.sln",
    "run": "dotnet run --project src/NOIR.Web",
    "watch": "dotnet watch --project src/NOIR.Web",
    "test": "dotnet test src/NOIR.sln",
    "test_coverage": "dotnet test src/NOIR.sln --collect:\"XPlat Code Coverage\"",
    "start_dev": "./start-dev.sh",
    "migrations_add": "dotnet ef migrations add NAME --project src/NOIR.Infrastructure --startup-project src/NOIR.Web --context ApplicationDbContext --output-dir Migrations/App",
    "migrations_update": "dotnet ef database update --project src/NOIR.Infrastructure --startup-project src/NOIR.Web --context ApplicationDbContext",
    "frontend_install": "cd src/NOIR.Web/frontend && npm install",
    "frontend_dev": "cd src/NOIR.Web/frontend && npm run dev",
    "frontend_build": "cd src/NOIR.Web/frontend && npm run build",
    "frontend_generate_api": "cd src/NOIR.Web/frontend && npm run generate:api",
    "e2e_test": "cd src/NOIR.Web/frontend/e2e-tests && npx playwright test",
    "e2e_test_ui": "cd src/NOIR.Web/frontend/e2e-tests && npx playwright test --ui"
  },
  "critical_rules": [
    "Use Specifications for all database queries - never raw DbSet",
    "Tag all specifications with TagWith('MethodName')",
    "Use IUnitOfWork for persistence - repos don't auto-save",
    "Use AsTracking for mutations in specifications",
    "Implement IAuditableCommand for user actions",
    "Register before-state resolvers for Update commands",
    "Unique constraints must include TenantId for tenant entities",
    "EF migrations must specify --context",
    "System users must have TenantId = null",
    "Error.Validation(propertyName, message, code?) - first param is property name"
  ],
  "serena_memories": [
    "project-overview", "domain-entities", "application-features", "api-endpoints",
    "frontend-architecture", "infrastructure-services", "architecture-patterns",
    "authentication-authorization", "coding-standards", "testing-strategy",
    "json-enum-serialization", "soft-delete-seeding-pattern", "suggested-commands"
  ],
  "token_efficiency": {
    "before_index_tokens": 58000,
    "after_index_tokens": 4500,
    "savings_percent": 92,
    "roi_sessions": 1
  }
}
